<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Azure Security Assessment - Executive Summary</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background-color: white;
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .header {
            text-align: center;
            border-bottom: 4px solid #0078d4;
            padding-bottom: 20px;
            margin-bottom: 30px;
        }
        h1 {
            color: #0078d4;
            margin: 0;
            font-size: 2.5em;
        }
        .subtitle {
            color: #666;
            font-size: 1.2em;
            margin-top: 10px;
        }
        .timestamp {
            color: #999;
            font-style: italic;
            margin-top: 10px;
        }
        h2 {
            color: #106ebe;
            margin-top: 40px;
            border-left: 5px solid #0078d4;
            padding-left: 15px;
        }
        h3 {
            color: #2b88d8;
            margin-top: 25px;
        }
        .metric-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        .metric-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .metric-card.green {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
        }
        .metric-card.blue {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }
        .metric-card.orange {
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
        }
        .metric-card.red {
            background: linear-gradient(135deg, #eb3349 0%, #f45c43 100%);
        }
        .metric-value {
            font-size: 3em;
            font-weight: bold;
            margin: 10px 0;
        }
        .metric-label {
            font-size: 1.1em;
            opacity: 0.9;
        }
        .finding {
            padding: 20px;
            margin: 15px 0;
            border-radius: 5px;
            border-left: 5px solid;
        }
        .finding-critical {
            background-color: #fde7e9;
            border-color: #e81123;
        }
        .finding-high {
            background-color: #fff4ce;
            border-color: #ffb900;
        }
        .finding-medium {
            background-color: #e7f3ff;
            border-color: #0078d4;
        }
        .finding-good {
            background-color: #dff6dd;
            border-color: #107c10;
        }
        .finding-title {
            font-weight: bold;
            font-size: 1.2em;
            margin-bottom: 10px;
        }
        .finding-critical .finding-title {
            color: #a80000;
        }
        .finding-high .finding-title {
            color: #8a6d00;
        }
        .finding-medium .finding-title {
            color: #004578;
        }
        .finding-good .finding-title {
            color: #0b5a0b;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        th {
            background-color: #0078d4;
            color: white;
            font-weight: bold;
        }
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        tr:hover {
            background-color: #e7f3ff;
        }
        .chart-bar {
            background-color: #0078d4;
            height: 25px;
            margin: 5px 0;
            border-radius: 3px;
            display: flex;
            align-items: center;
            padding-left: 10px;
            color: white;
            font-weight: bold;
        }
        .section {
            margin: 40px 0;
        }
        .data-point {
            display: inline-block;
            margin: 10px 20px 10px 0;
        }
        .data-label {
            color: #666;
            font-size: 0.9em;
        }
        .data-value {
            font-size: 1.8em;
            font-weight: bold;
            color: #0078d4;
        }
        .status-badge {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.9em;
        }
        .status-critical {
            background-color: #e81123;
            color: white;
        }
        .status-warning {
            background-color: #ffb900;
            color: #000;
        }
        .status-good {
            background-color: #107c10;
            color: white;
        }
        .status-info {
            background-color: #0078d4;
            color: white;
        }
        ul.recommendations {
            list-style-type: none;
            padding-left: 0;
        }
        ul.recommendations li {
            padding: 10px;
            margin: 8px 0;
            background-color: #f9f9f9;
            border-left: 4px solid #0078d4;
            border-radius: 3px;
        }
        ul.recommendations li:before {
            content: "‚Üí ";
            color: #0078d4;
            font-weight: bold;
            margin-right: 8px;
        }
        .page-break {
            page-break-after: always;
        }
        @media print {
            body {
                background-color: white;
            }
            .container {
                box-shadow: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- HEADER -->
        <div class="header">
            <h1>üõ°Ô∏è Azure Security Assessment</h1>
            <div class="subtitle">Executive Summary Report</div>
            <div class="timestamp">Generated: October 16, 2025</div>
        </div>

        <!-- EXECUTIVE SUMMARY -->
        <h2>üìä Executive Summary</h2>
        
        <div class="metric-grid">
            <div class="metric-card blue">
                <div class="metric-label">Subscriptions Assessed</div>
                <div class="metric-value">34</div>
            </div>
            <div class="metric-card green">
                <div class="metric-label">Total Resources</div>
                <div class="metric-value">5,088</div>
            </div>
            <div class="metric-card orange">
                <div class="metric-label">Security Findings</div>
                <div class="metric-value">18,142</div>
            </div>
            <div class="metric-card red">
                <div class="metric-label">Unhealthy Items</div>
                <div class="metric-value">1,931</div>
            </div>
        </div>

        <div class="section">
            <h3>Overall Security Posture</h3>
            <div class="data-point">
                <div class="data-label">Average Secure Score</div>
                <div class="data-value">44.1%</div>
            </div>
            <div class="data-point">
                <div class="data-label">Security Assessments</div>
                <div class="data-value">18,142</div>
            </div>
            <div class="data-point">
                <div class="data-label">Privileged Access</div>
                <div class="data-value">825</div>
            </div>
        </div>

        <p><strong>Assessment Scope:</strong> Comprehensive security evaluation across 34 Azure subscriptions, encompassing 5,088 resources across 856 resource groups. Data collection completed on October 16, 2025, covering security posture, identity & access, network security, data protection, logging, and compliance.</p>

        <!-- CRITICAL FINDINGS -->
        <div class="page-break"></div>
        <h2>üö® Critical Findings Requiring Immediate Action</h2>

        <div class="finding finding-critical">
            <div class="finding-title">1. Key Vault Protection - CRITICAL RISK</div>
            <p><strong>Finding:</strong> 234 Key Vaults deployed with NO soft delete or purge protection enabled.</p>
            <p><strong>Risk:</strong> Accidental or malicious deletion of Key Vaults results in permanent loss of encryption keys, secrets, and certificates. This could cause complete service outages and data loss.</p>
            <p><strong>Impact:</strong> HIGH - Potential for catastrophic data loss and service disruption</p>
            <p><strong>Recommendation:</strong> Immediately enable soft delete and purge protection on all 234 Key Vaults using Azure Policy.</p>
            <p><strong>Affected Resources:</strong> 234 Key Vaults across multiple subscriptions</p>
        </div>

        <div class="finding finding-critical">
            <div class="finding-title">2. SQL Server Public Exposure - HIGH RISK</div>
            <p><strong>Finding:</strong> 25 of 26 SQL servers (96%) have public network access enabled.</p>
            <p><strong>Risk:</strong> SQL servers are exposed to the internet, increasing attack surface for brute force attacks, SQL injection, and unauthorized access attempts.</p>
            <p><strong>Impact:</strong> HIGH - Potential data breach exposure</p>
            <p><strong>Recommendation:</strong> Disable public network access and implement Private Endpoints for all SQL servers. Only 1 server currently has public access disabled.</p>
            <p><strong>Affected Resources:</strong> 25 SQL servers, 50 databases (4.3 TB of data)</p>
        </div>

        <div class="finding finding-critical">
            <div class="finding-title">3. No Azure Backup Infrastructure - BUSINESS CONTINUITY RISK</div>
            <p><strong>Finding:</strong> 0 Recovery Services vaults deployed across all 34 subscriptions.</p>
            <p><strong>Risk:</strong> No automated backup solution for VMs, databases, or file shares. Single point of failure for critical workloads.</p>
            <p><strong>Impact:</strong> CRITICAL - No disaster recovery capability</p>
            <p><strong>Recommendation:</strong> Implement Azure Backup with Recovery Services vaults immediately for all production workloads.</p>
            <p><strong>Affected Resources:</strong> All resources (no backup coverage)</p>
        </div>

        <div class="finding finding-critical">
            <div class="finding-title">4. No Azure Firewall Deployment - NETWORK SECURITY GAP</div>
            <p><strong>Finding:</strong> 0 Azure Firewalls deployed despite having 105 virtual networks.</p>
            <p><strong>Risk:</strong> No centralized network filtering, threat intelligence, or application-level protection. Traffic inspection limited to NSG rules only.</p>
            <p><strong>Impact:</strong> MEDIUM-HIGH - Limited network threat protection</p>
            <p><strong>Recommendation:</strong> Deploy Azure Firewall in hub VNet with forced tunneling for spoke VNets.</p>
            <p><strong>Affected Resources:</strong> 105 VNets, 625 subnets</p>
        </div>

        <!-- HIGH PRIORITY FINDINGS -->
        <div class="page-break"></div>
        <h2>‚ö†Ô∏è High Priority Findings</h2>

        <div class="finding finding-high">
            <div class="finding-title">5. Excessive Privileged Access - IDENTITY SECURITY</div>
            <p><strong>Finding:</strong> 825 privileged role assignments (13.2% of all assignments)</p>
            <ul>
                <li>315 Owner assignments (highest privilege)</li>
                <li>438 Contributor assignments</li>
                <li>72 User Access Administrator assignments</li>
            </ul>
            <p><strong>Risk:</strong> Over-privileged access increases risk of accidental or malicious changes to critical infrastructure.</p>
            <p><strong>Recommendation:</strong> Review all Owner and Contributor assignments. Implement Just-In-Time (JIT) access using PIM. Move to least-privilege model with custom roles.</p>
        </div>

        <div class="finding finding-high">
            <div class="finding-title">6. Security Assessment Findings - 1,931 Unhealthy Items</div>
            <p><strong>Finding:</strong> Microsoft Defender for Cloud identified 1,931 unhealthy security assessments across all subscriptions.</p>
            <p><strong>Details:</strong></p>
            <ul>
                <li>Healthy: 2,049 (11%)</li>
                <li>Unhealthy: 1,931 (11%) - <strong>ACTION REQUIRED</strong></li>
                <li>Not Applicable: 14,162 (78%)</li>
            </ul>
            <p><strong>Recommendation:</strong> Prioritize remediation based on Defender severity ratings. Focus on high and critical severity findings first.</p>
        </div>

        <div class="finding finding-high">
            <div class="finding-title">7. Secure Score Below Target - Average 44.1%</div>
            <p><strong>Finding:</strong> Average Secure Score across all subscriptions is 44.1% (7.3 out of 11.6 points)</p>
            <ul>
                <li>Lowest Score: 1.2% (critical attention needed)</li>
                <li>Highest Score: 100% (best practice example)</li>
                <li>Wide variance indicates inconsistent security practices</li>
            </ul>
            <p><strong>Recommendation:</strong> Target minimum 70% Secure Score across all subscriptions. Use 100% scoring subscription as template for others.</p>
        </div>

        <!-- POSITIVE FINDINGS -->
        <div class="page-break"></div>
        <h2>‚úÖ Positive Findings - Security Strengths</h2>

        <div class="finding finding-good">
            <div class="finding-title">1. Storage Security - Excellent Configuration</div>
            <p><strong>Finding:</strong> All 290 storage accounts properly secured:</p>
            <ul>
                <li>‚úÖ HTTPS Only: 100% compliance</li>
                <li>‚úÖ Public Blob Access Disabled: 100% compliance</li>
                <li>‚úÖ Encryption enabled on all accounts</li>
            </ul>
            <p><strong>Status:</strong> Storage security follows Microsoft best practices. No immediate action required.</p>
        </div>

        <div class="finding finding-good">
            <div class="finding-title">2. SQL TLS Encryption - Compliant</div>
            <p><strong>Finding:</strong> All 26 SQL servers enforce TLS 1.2 minimum encryption.</p>
            <p><strong>Status:</strong> Meets compliance requirements for data in transit protection.</p>
        </div>

        <div class="finding finding-good">
            <div class="finding-title">3. Private Endpoint Adoption - Good Progress</div>
            <p><strong>Finding:</strong> 84 private endpoints deployed for secure connectivity.</p>
            <p><strong>Status:</strong> Organization is adopting private connectivity best practices. Primarily deployed in East US 2.</p>
        </div>

        <div class="finding finding-good">
            <div class="finding-title">4. Network Segmentation - Well Implemented</div>
            <p><strong>Finding:</strong> 662 Network Security Groups with 1,518 custom rules.</p>
            <ul>
                <li>Average 8.3 rules per NSG (reasonable)</li>
                <li>105 VNets with 625 subnets (good segmentation)</li>
                <li>Average 6 subnets per VNet (proper network isolation)</li>
            </ul>
            <p><strong>Status:</strong> Network segmentation follows Azure best practices.</p>
        </div>

        <!-- INFRASTRUCTURE OVERVIEW -->
        <div class="page-break"></div>
        <h2>üèóÔ∏è Infrastructure Overview</h2>

        <h3>Resource Distribution</h3>
        <table>
            <thead>
                <tr>
                    <th>Category</th>
                    <th>Count</th>
                    <th>Notes</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Subscriptions</td>
                    <td><strong>34</strong></td>
                    <td>All assessed</td>
                </tr>
                <tr>
                    <td>Resource Groups</td>
                    <td><strong>856</strong></td>
                    <td>Average 25.2 per subscription</td>
                </tr>
                <tr>
                    <td>Total Resources</td>
                    <td><strong>5,088</strong></td>
                    <td>Average 149.6 per subscription</td>
                </tr>
                <tr>
                    <td>Virtual Networks</td>
                    <td><strong>105</strong></td>
                    <td>625 subnets total</td>
                </tr>
                <tr>
                    <td>Network Security Groups</td>
                    <td><strong>662</strong></td>
                    <td>1,518 custom rules</td>
                </tr>
                <tr>
                    <td>Storage Accounts</td>
                    <td><strong>290</strong></td>
                    <td>100% HTTPS enforced</td>
                </tr>
                <tr>
                    <td>Key Vaults</td>
                    <td><strong>234</strong></td>
                    <td>‚ö†Ô∏è No soft delete enabled</td>
                </tr>
                <tr>
                    <td>SQL Servers</td>
                    <td><strong>26</strong></td>
                    <td>50 databases (4.3 TB)</td>
                </tr>
                <tr>
                    <td>Log Analytics Workspaces</td>
                    <td><strong>68</strong></td>
                    <td>Centralized logging</td>
                </tr>
            </tbody>
        </table>

        <h3>Top Resource Types</h3>
        <table>
            <thead>
                <tr>
                    <th>Resource Type</th>
                    <th>Count</th>
                    <th>% of Total</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Network Security Groups</td>
                    <td>662</td>
                    <td>13.0%</td>
                </tr>
                <tr>
                    <td>NSG Flow Logs</td>
                    <td>357</td>
                    <td>7.0%</td>
                </tr>
                <tr>
                    <td>Storage Accounts</td>
                    <td>290</td>
                    <td>5.7%</td>
                </tr>
                <tr>
                    <td>Event Grid System Topics</td>
                    <td>285</td>
                    <td>5.6%</td>
                </tr>
                <tr>
                    <td>Web Apps</td>
                    <td>283</td>
                    <td>5.6%</td>
                </tr>
                <tr>
                    <td>Web App Slots</td>
                    <td>241</td>
                    <td>4.7%</td>
                </tr>
                <tr>
                    <td>Smart Detector Alerts</td>
                    <td>235</td>
                    <td>4.6%</td>
                </tr>
                <tr>
                    <td>Key Vaults</td>
                    <td>234</td>
                    <td>4.6%</td>
                </tr>
                <tr>
                    <td>App Configuration Stores</td>
                    <td>208</td>
                    <td>4.1%</td>
                </tr>
                <tr>
                    <td>App Service Plans</td>
                    <td>195</td>
                    <td>3.8%</td>
                </tr>
            </tbody>
        </table>

        <h3>Geographic Distribution</h3>
        <p><strong>Primary Regions:</strong></p>
        <ul>
            <li><strong>Central US:</strong> 3,364 resources (66%) - Primary region</li>
            <li><strong>East US 2:</strong> 801 resources (16%) - Secondary region</li>
            <li><strong>Global:</strong> 781 resources (15%) - Global services</li>
            <li><strong>East US:</strong> 122 resources (2%)</li>
        </ul>
        <p><strong>Analysis:</strong> Heavy concentration in Central US presents geographic risk. Consider multi-region deployment for critical workloads.</p>

        <!-- IDENTITY & ACCESS -->
        <div class="page-break"></div>
        <h2>üîê Identity & Access Management</h2>

        <h3>Role Assignment Analysis</h3>
        <div class="metric-grid">
            <div class="metric-card blue">
                <div class="metric-label">Total Role Assignments</div>
                <div class="metric-value">6,269</div>
            </div>
            <div class="metric-card orange">
                <div class="metric-label">Privileged Assignments</div>
                <div class="metric-value">825</div>
            </div>
            <div class="metric-card green">
                <div class="metric-label">Unique Principals</div>
                <div class="metric-value">1,947</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">Avg per Principal</div>
                <div class="metric-value">3.2</div>
            </div>
        </div>

        <h3>Top Roles Assigned</h3>
        <table>
            <thead>
                <tr>
                    <th>Role Name</th>
                    <th>Count</th>
                    <th>Risk Level</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Reader</td>
                    <td>736</td>
                    <td><span class="status-badge status-good">Low</span></td>
                </tr>
                <tr>
                    <td>App Configuration Data Reader</td>
                    <td>512</td>
                    <td><span class="status-badge status-good">Low</span></td>
                </tr>
                <tr>
                    <td>Contributor</td>
                    <td>438</td>
                    <td><span class="status-badge status-critical">High</span></td>
                </tr>
                <tr>
                    <td>Key Vault Secrets User</td>
                    <td>426</td>
                    <td><span class="status-badge status-info">Medium</span></td>
                </tr>
                <tr>
                    <td>Owner</td>
                    <td>315</td>
                    <td><span class="status-badge status-critical">Critical</span></td>
                </tr>
                <tr>
                    <td>Log Analytics Contributor</td>
                    <td>267</td>
                    <td><span class="status-badge status-warning">Medium</span></td>
                </tr>
            </tbody>
        </table>

        <h3>Principal Type Distribution</h3>
        <table>
            <thead>
                <tr>
                    <th>Principal Type</th>
                    <th>Count</th>
                    <th>Percentage</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Service Principal</td>
                    <td>4,337</td>
                    <td>69%</td>
                </tr>
                <tr>
                    <td>Group</td>
                    <td>1,652</td>
                    <td>26%</td>
                </tr>
                <tr>
                    <td>User</td>
                    <td>275</td>
                    <td>4%</td>
                </tr>
                <tr>
                    <td>Foreign Group</td>
                    <td>5</td>
                    <td>&lt;1%</td>
                </tr>
            </tbody>
        </table>

        <p><strong>Analysis:</strong> Good use of service principals for automation (69%) and groups for user access management (26%). Direct user assignments are minimal (4%), which is a best practice.</p>

        <!-- NETWORK SECURITY -->
        <div class="page-break"></div>
        <h2>üåê Network Security</h2>

        <h3>Network Infrastructure Summary</h3>
        <div class="metric-grid">
            <div class="metric-card blue">
                <div class="metric-label">Virtual Networks</div>
                <div class="metric-value">105</div>
            </div>
            <div class="metric-card green">
                <div class="metric-label">Subnets</div>
                <div class="metric-value">625</div>
            </div>
            <div class="metric-card orange">
                <div class="metric-label">Network Security Groups</div>
                <div class="metric-value">662</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">Private Endpoints</div>
                <div class="metric-value">84</div>
            </div>
        </div>

        <h3>Network Security Posture</h3>
        <table>
            <thead>
                <tr>
                    <th>Metric</th>
                    <th>Value</th>
                    <th>Assessment</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>NSG Coverage</td>
                    <td>662 NSGs for 105 VNets</td>
                    <td><span class="status-badge status-good">Excellent</span></td>
                </tr>
                <tr>
                    <td>Custom NSG Rules</td>
                    <td>1,518 rules configured</td>
                    <td><span class="status-badge status-good">Good</span></td>
                </tr>
                <tr>
                    <td>NSG Flow Logs</td>
                    <td>357 flow logs active</td>
                    <td><span class="status-badge status-good">Good</span></td>
                </tr>
                <tr>
                    <td>Azure Firewall</td>
                    <td>0 deployed</td>
                    <td><span class="status-badge status-critical">Missing</span></td>
                </tr>
                <tr>
                    <td>Private Endpoints</td>
                    <td>84 deployed</td>
                    <td><span class="status-badge status-good">Good</span></td>
                </tr>
                <tr>
                    <td>Subnets per VNet</td>
                    <td>Average 6.0</td>
                    <td><span class="status-badge status-good">Well Segmented</span></td>
                </tr>
            </tbody>
        </table>

        <p><strong>VNet Distribution:</strong></p>
        <ul>
            <li>Central US: 57 VNets</li>
            <li>East US 2: 48 VNets</li>
        </ul>

        <!-- DATA PROTECTION -->
        <div class="page-break"></div>
        <h2>üíæ Data Protection & Encryption</h2>

        <h3>Data Asset Inventory</h3>
        <div class="metric-grid">
            <div class="metric-card blue">
                <div class="metric-label">Storage Accounts</div>
                <div class="metric-value">290</div>
            </div>
            <div class="metric-card orange">
                <div class="metric-label">Key Vaults</div>
                <div class="metric-value">234</div>
            </div>
            <div class="metric-card green">
                <div class="metric-label">SQL Servers</div>
                <div class="metric-value">26</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">SQL Databases</div>
                <div class="metric-value">50</div>
            </div>
        </div>

        <h3>Storage Account Security</h3>
        <table>
            <thead>
                <tr>
                    <th>Security Control</th>
                    <th>Compliance</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>HTTPS Only Enabled</td>
                    <td>290/290 (100%)</td>
                    <td><span class="status-badge status-good">Excellent</span></td>
                </tr>
                <tr>
                    <td>Public Blob Access Disabled</td>
                    <td>290/290 (100%)</td>
                    <td><span class="status-badge status-good">Excellent</span></td>
                </tr>
                <tr>
                    <td>Encryption Enabled</td>
                    <td>290/290 (100%)</td>
                    <td><span class="status-badge status-good">Excellent</span></td>
                </tr>
            </tbody>
        </table>

        <p><strong>Storage SKU Distribution:</strong> 279 Standard_LRS, 8 Standard_GRS, 3 Standard_RAGRS</p>

        <h3>Key Vault Security</h3>
        <table>
            <thead>
                <tr>
                    <th>Security Control</th>
                    <th>Compliance</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Soft Delete Enabled</td>
                    <td>0/234 (0%)</td>
                    <td><span class="status-badge status-critical">CRITICAL</span></td>
                </tr>
                <tr>
                    <td>Purge Protection Enabled</td>
                    <td>0/234 (0%)</td>
                    <td><span class="status-badge status-critical">CRITICAL</span></td>
                </tr>
            </tbody>
        </table>

        <h3>SQL Database Security</h3>
        <table>
            <thead>
                <tr>
                    <th>Security Control</th>
                    <th>Compliance</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>TLS 1.2 Enforced</td>
                    <td>26/26 (100%)</td>
                    <td><span class="status-badge status-good">Excellent</span></td>
                </tr>
                <tr>
                    <td>Public Network Access Disabled</td>
                    <td>1/26 (4%)</td>
                    <td><span class="status-badge status-critical">Poor</span></td>
                </tr>
                <tr>
                    <td>Private Endpoint Used</td>
                    <td>Low adoption</td>
                    <td><span class="status-badge status-warning">Needs Improvement</span></td>
                </tr>
            </tbody>
        </table>

        <p><strong>SQL Database Details:</strong></p>
        <ul>
            <li>Total Data: 4.3 TB across 50 databases</li>
            <li>Average Database Size: 86.78 GB</li>
            <li>Tiers: 18 System, 18 Basic, 12 Standard, 1 Premium, 1 GeneralPurpose</li>
        </ul>

        <!-- LOGGING & MONITORING -->
        <div class="page-break"></div>
        <h2>üìä Logging & Monitoring</h2>

        <h3>Logging Infrastructure</h3>
        <div class="metric-grid">
            <div class="metric-card blue">
                <div class="metric-label">Log Analytics Workspaces</div>
                <div class="metric-value">68</div>
            </div>
            <div class="metric-card green">
                <div class="metric-label">Diagnostic Settings</div>
                <div class="metric-value">63</div>
            </div>
            <div class="metric-card orange">
                <div class="metric-label">Coverage</div>
                <div class="metric-value">74%</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">Sentinel Deployments</div>
                <div class="metric-value">0</div>
            </div>
        </div>

        <p><strong>Log Analytics Distribution:</strong></p>
        <ul>
            <li>Central US: 63 workspaces</li>
            <li>East US 2: 3 workspaces</li>
            <li>East US: 2 workspaces</li>
        </ul>

        <p><strong>Findings:</strong></p>
        <ul>
            <li>‚úÖ Good coverage: 25 of 34 subscriptions (74%) have diagnostic settings</li>
            <li>‚ö†Ô∏è 9 subscriptions without diagnostic logging - monitoring gap</li>
            <li>‚ùå Microsoft Sentinel not deployed - no SIEM capability</li>
        </ul>

        <!-- GOVERNANCE & COMPLIANCE -->
        <div class="page-break"></div>
        <h2>üìã Governance & Compliance</h2>

        <h3>Policy Management</h3>
        <div class="data-point">
            <div class="data-label">Policy Assignments</div>
            <div class="data-value">436</div>
        </div>

        <p><strong>Enforcement:</strong> All 436 policy assignments in "Default" enforcement mode (standard behavior)</p>

        <h3>Microsoft Defender for Cloud</h3>
        <table>
            <thead>
                <tr>
                    <th>Metric</th>
                    <th>Value</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Subscriptions with Defender</td>
                    <td>34/34</td>
                    <td><span class="status-badge status-info">Enabled</span></td>
                </tr>
                <tr>
                    <td>Pricing Tier</td>
                    <td>Free (Standard not enabled)</td>
                    <td><span class="status-badge status-warning">Basic Coverage</span></td>
                </tr>
                <tr>
                    <td>Security Assessments Generated</td>
                    <td>18,142</td>
                    <td><span class="status-badge status-good">Active</span></td>
                </tr>
                <tr>
                    <td>Unhealthy Findings</td>
                    <td>1,931</td>
                    <td><span class="status-badge status-critical">Action Needed</span></td>
                </tr>
            </tbody>
        </table>

        <!-- RECOMMENDATIONS -->
        <div class="page-break"></div>
        <h2>üéØ Priority Recommendations</h2>

        <h3>Immediate Actions (Next 30 Days)</h3>
        <ul class="recommendations">
            <li><strong>Enable Key Vault Protection:</strong> Configure soft delete and purge protection on all 234 Key Vaults using Azure Policy. Estimated effort: 1 week.</li>
            <li><strong>Secure SQL Servers:</strong> Disable public network access on 25 SQL servers and implement Private Endpoints. Estimated effort: 2-3 weeks.</li>
            <li><strong>Implement Azure Backup:</strong> Deploy Recovery Services vaults and configure backup policies for critical workloads. Estimated effort: 2-4 weeks.</li>
            <li><strong>Review Privileged Access:</strong> Audit all 315 Owner and 438 Contributor assignments. Implement Just-In-Time access using PIM. Estimated effort: 2 weeks.</li>
        </ul>

        <h3>Short-term Actions (Next 90 Days)</h3>
        <ul class="recommendations">
            <li><strong>Deploy Azure Firewall:</strong> Implement centralized network security with Azure Firewall in hub VNet. Estimated effort: 4-6 weeks.</li>
            <li><strong>Remediate Unhealthy Findings:</strong> Address 1,931 unhealthy security assessments from Defender. Prioritize by severity. Estimated effort: Ongoing.</li>
            <li><strong>Improve Secure Score:</strong> Target 70% minimum across all subscriptions (currently 44.1% average). Estimated effort: 2-3 months.</li>
            <li><strong>Complete Diagnostic Coverage:</strong> Enable diagnostic settings on remaining 9 subscriptions without logging. Estimated effort: 1 week.</li>
            <li><strong>Consider Defender Standard Tier:</strong> Evaluate upgrading to Defender for Cloud Standard tier for enhanced protection. Estimated effort: 2 weeks (planning + implementation).</li>
        </ul>

        <h3>Long-term Initiatives (Next 6-12 Months)</h3>
        <ul class="recommendations">
            <li><strong>Deploy Microsoft Sentinel:</strong> Implement SIEM capability for advanced threat detection and incident response.</li>
            <li><strong>Multi-Region Strategy:</strong> Reduce geographic concentration risk by deploying critical workloads across multiple Azure regions.</li>
            <li><strong>Zero Trust Architecture:</strong> Implement comprehensive Zero Trust model with Private Endpoints for all PaaS services.</li>
            <li><strong>Automation & IaC:</strong> Standardize deployments using Infrastructure as Code to ensure consistent security configurations.</li>
        </ul>

        <!-- DATA SOURCES -->
        <div class="page-break"></div>
        <h2>üìÅ Data Sources & Methodology</h2>

        <h3>Assessment Scope</h3>
        <p>This assessment was conducted on <strong>October 15-16, 2025</strong> using automated PowerShell scripts to query Azure Resource Manager APIs across all 34 subscriptions in the tenant.</p>

        <h3>Data Collected</h3>
        <table>
            <thead>
                <tr>
                    <th>Data Category</th>
                    <th>Files Collected</th>
                    <th>Records Extracted</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Security</td>
                    <td>68 JSON files</td>
                    <td>18,176 records (34 scores + 18,142 assessments)</td>
                </tr>
                <tr>
                    <td>Inventory</td>
                    <td>102 JSON files</td>
                    <td>5,944 records (856 RGs + 5,088 resources)</td>
                </tr>
                <tr>
                    <td>Identity & Access</td>
                    <td>34 JSON files</td>
                    <td>6,269 role assignments</td>
                </tr>
                <tr>
                    <td>Network</td>
                    <td>170 JSON files</td>
                    <td>851 records (105 VNets + 662 NSGs + 84 PEs)</td>
                </tr>
                <tr>
                    <td>Data Protection</td>
                    <td>136 JSON files</td>
                    <td>600 records (290 storage + 234 KVs + 26 SQL + 50 DBs)</td>
                </tr>
                <tr>
                    <td>Logging</td>
                    <td>68 JSON files</td>
                    <td>131 records (68 workspaces + 63 settings)</td>
                </tr>
                <tr>
                    <td>Policies</td>
                    <td>68 JSON files</td>
                    <td>436 policy assignments</td>
                </tr>
            </tbody>
        </table>

        <p><strong>Total Evidence Collected:</strong> 862 JSON files containing comprehensive configuration data</p>

        <h3>CSV Files Generated</h3>
        <p>All raw JSON data has been transformed into 15 CSV files totaling ~12 MB for easy import into Excel:</p>
        <ul>
            <li>security_assessments.csv (4.9 MB - 18,142 rows)</li>
            <li>role_assignments.csv (3.5 MB - 6,269 rows)</li>
            <li>resources.csv (2.9 MB - 5,088 rows)</li>
            <li>resource_groups.csv (388 KB - 856 rows)</li>
            <li>policy_assignments.csv (107 KB - 436 rows)</li>
            <li>network_security_groups.csv (212 KB - 662 rows)</li>
            <li>storage_accounts.csv (92 KB - 290 rows)</li>
            <li>key_vaults.csv (64 KB - 234 rows)</li>
            <li>virtual_networks.csv (32 KB - 105 rows)</li>
            <li>private_endpoints.csv (25 KB - 84 rows)</li>
            <li>log_analytics_workspaces.csv (25 KB - 68 rows)</li>
            <li>diagnostic_settings.csv (14 KB - 63 rows)</li>
            <li>sql_databases.csv (16 KB - 50 rows)</li>
            <li>sql_servers.csv (8 KB - 26 rows)</li>
            <li>secure_scores.csv (6 KB - 34 rows)</li>
        </ul>

        <!-- NEXT STEPS -->
        <h2>üìå Next Steps</h2>

        <h3>For Security Team</h3>
        <ol>
            <li><strong>Review Critical Findings:</strong> Address the 4 critical findings outlined in this report</li>
            <li><strong>Import Data to Excel:</strong> Load CSV files into Azure_Framework_2025.xlsx for detailed analysis</li>
            <li><strong>Prioritize Remediation:</strong> Create action plan for 1,931 unhealthy security assessments</li>
            <li><strong>Schedule Follow-up:</strong> Plan for re-assessment in 90 days to measure improvement</li>
        </ol>

        <h3>For Management</h3>
        <ol>
            <li><strong>Budget Allocation:</strong> Secure budget for Azure Backup, Azure Firewall, and Defender Standard tier upgrades</li>
            <li><strong>Resource Approval:</strong> Allocate team resources for remediation efforts (estimated 3-6 months)</li>
            <li><strong>Risk Acceptance:</strong> Review and formally accept or mitigate identified risks</li>
            <li><strong>Compliance Reporting:</strong> Use this data for regulatory compliance reporting</li>
        </ol>

        <!-- APPENDIX -->
        <h2>üìé Appendix: Assessment Statistics</h2>

        <h3>By the Numbers</h3>
        <table>
            <thead>
                <tr>
                    <th>Metric</th>
                    <th>Value</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>Assessment Duration</td><td>2 days (Oct 15-16, 2025)</td></tr>
                <tr><td>Subscriptions Assessed</td><td>34</td></tr>
                <tr><td>Management Groups</td><td>12 discovered</td></tr>
                <tr><td>Resource Groups</td><td>856</td></tr>
                <tr><td>Total Resources</td><td>5,088</td></tr>
                <tr><td>JSON Files Created</td><td>862</td></tr>
                <tr><td>CSV Files Generated</td><td>15</td></tr>
                <tr><td>Total Data Size</td><td>~12 MB (CSV) + JSON archives</td></tr>
                <tr><td>Security Assessments</td><td>18,142</td></tr>
                <tr><td>Role Assignments Reviewed</td><td>6,269</td></tr>
                <tr><td>Policy Assignments</td><td>436</td></tr>
                <tr><td>Network Security Rules</td><td>5,490 (1,518 custom)</td></tr>
            </tbody>
        </table>

        <!-- FOOTER -->
        <hr style="margin: 50px 0; border: none; border-top: 2px solid #e0e0e0;">
        
        <div style="text-align: center; color: #666; margin-top: 40px;">
            <p><strong>Azure Security Assessment Project</strong></p>
            <p>Data Collection: October 15-16, 2025<br>
            Report Generated: October 16, 2025<br>
            Assessment Status: <span class="status-badge status-good">COMPLETE</span></p>
            <p style="margin-top: 20px; font-size: 0.9em;">
                This report is based on automated data collection from Azure APIs.<br>
                For questions or clarifications, contact the Security Team.
            </p>
        </div>
    </div>
</body>
</html>

